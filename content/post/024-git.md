+++
categories = ["Linux"]
date = "2015-02-01T16:34:03+02:00"
draft = false
tags = ["Linux", "Raspberry", "Git"]
title = "024 - Git"
toc = true
type = "post"
updated = "2016-09-01"
spelling = 1
+++

# Git

##  Inleiding
Git is een versiebeheer systeem, dat veel gebruikt wordt bij de ontwikkeling van
software. Er zijn meerdere van dit soort pakketten, Git is echter wel erg goed
en daarom ook zeer populair. Het draait op vele platformen, waaronder Windows,
Linux, Mac.
Het is oorspronkelijk ontwikkeld door de uitvinder van Linux, Linus Torvalds.


## Installeren
Als Git nog niet geïnstalleerd, moet dat uiteraard eerst. Doe dat als volgt.
```bash
sudo apt-get install git
```

## Configureren
Git moet de eerste keer geconfigureerd worden. Onderstaand enkele waarden.
```bash
git config –global user.name “gebruikersnaam”
git config –global user.email “user.domain.com”
```


## Maak een nieuw project aan
Ga in hoofddirectory staan van een project, en maak op volgende manier een nieuwe
repository aan.
```bash
git init
```


## Klonen
Om samen te werken of om een project te kopiëren. Voorbeeld.
```bash
git clone git://github.com/schacon/simplegit.git
```
Binnenhalen en opslaan in een andere directory.
```bash
git clone git://github.com/schacon/simplegit.git mygit
```

## Externe repository toevoegen
Onder een externe repository versta ik een repository op een andere computer. Doel
maken van een backup.
Op Github kunnen gratis projecten / repositories worden aangemaakt. Deze dienen
dan wel openbaar te zijn. Voor gesloten repositories moet betaald worden.

Toevoegen van een repository op Github gaat bijvoorbeeld als volgt:
```bash
git remote add origin git@github.com:dirk2011/linuxnotes.git
```

Het synchroniseren gaat bijvoorbeeld als volgt:
```bash
git push -u origin master
```

Overzichtje maken van welke remote repositories gebruikt worden:
```bash
git remote -v
```


## Gewijzigde en nieuwe bestanden toevoegen
Doe dat met `git add`, het volgende voorbeeld de voegt huidige en subdirectory's toe.
```bash
git add .
```

Of om bestanden uit de huidige directory toe te voegen
```bash
git add *
``` 

Status overzicht
```bash
git status
```
Of een beknopt overzicht met
```bash
git status -s
```

`Git add` heeft een aantal handige opties. Een dry run.
```bash
git add -n
```
Verbose
```bash
git add -v
```
Update tracked files.
```bash
git add -u
```


## Verschillen

### Verschillen, unstaged changes
Welke veranderingen zijn er aangebracht in de werkdirectory's t.o.v. de staging, of
gewijzigd in de werkdirectory's t.o.v. de laatste commit indien de staging leeg
is, doe:
```bash
git diff
```

### Verschillen, staged changes to commit
Welke veranderingen zitten in de staging en staan klaar om gecommit te worden,
doe:
```bash
git diff –cached
```

### Verschillen, tussen werkdirectory en laatste commit
Doe 
```bash
git diff HEAD    
```
eventueel gevolgd door een bestandsnaam. 

Door –stat toe te voegen worden alleen maar totalen getoond, bijvoorbeeld:
```bash
git diff HEAD -–stat README
```
wordt informatie weergegeven over de wijzigingen in het README bestand, niet de
wijzigingen zelf.

### Verschillen beter weergeven
Installeer de tool meld om verschillen veel beter visueel weer te geven. 
```bash
sudo apt-get install meld
```

Daarna moet de configuratie van git nog aangepast worden, doe:
```bash
git config --global diff.external meld
```


## Opslaan, commit

De meest simpele opdracht:
```bash
git commit
```
daarna verschijnt wordt een editor opgestart, waarin een omschrijving kan worden
ingevoerd.

Meteen een omschrijving meegeven met de commit kan ook:
```bash
git commit -m “beschrijf wat er is gewijzigd”
```

Of deze variant, die voegt alle gewijzigde bestanden toe, daarmee wordt staging
overgeslagen:
```bash
git commit -am “beschrijf wat er is gewijzigd”
```

** Hou de 1e regel van beschrijving kort en krachtig. Sla vervolgens eventueel een
regel over en voeg een langere omschrijving met meer details toe. **


## 12. “tijdreizen” tussen commits
Het is mogelijk terug te gaan naar een vorige commit, zonder daarvoor branches
te gebruiken. 

Om één bestand terug te zetten doe als volgt. Achterhaal de korte `commit key`,
bijvoorbeeld met `git log --format=%t, %cD, %s`, of gebruik de alias `gl` die ik
hiervoor heb aangemaakt.
Doe dan:
```bash
git checkout <korte commit key> <bestandsnaam>
```
Dit zet het bestand terug in de werkdirectory met als status staging. Opgepast
dus het teruggezette bestand staat nu klaar om gecommit te worden.


Een bestand terughalen uit de master branch gaat als volgt.
```bash
git checkout master  <bestandsnaam>
```




Lange commit key
Met deze methode worden alle bestanden teruggezet na een oude versie, git “ziet”
veranderingen, en er kan gemakkelijk teruggekeerd worden naar de laatste
bestand. Aangezien er geen branch gebruikt is, met de lange commit key worden
gebruikt. Achterhaal de key van de juiste stand, maar een deel van de key hoeft
te worden ingetypt, het deel moet uniek zijn in het project!
Doe dan: 
git checkout <[deel]key>
Vervolgens wordt alle bestanden teruggezet, bestanden die nog niet bestonden
worden gewist.

Git log, geeft nu “vreemde”informatie alle later changes lijken weg. Dat is niet
zo, doe: git branch -v om de precieze status van het project te zien.
Terugkeren gaat als volgt:
git checkout master
Git heeft een betere oplossing om te switchen/werken met commits, genaamd
branches, gebruik die!









![Linux](/img/logo_linux.jpg)

* * *

